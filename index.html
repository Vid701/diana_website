<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>I APOLOGIZE</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="container">
    <h1 class="page-title" id="pageTitle">PLEASE FORGIVE ME DIANA, I TOOK TOO LONG TO PLAY MINECRAFT WITH YOU :((</h1>

    <img src="angry_gif_index.gif" alt="Animated Gif" class="gif" id="mainGif" />

    <p class="gif-description" id="gifText">Please pick the option that you feel best suits your response to my apology using the buttons below:</p>

    <div class="buttons">
      <a href="#" class="btn" id="cycleToPage1">No I do not forgive you >:( (HMPH)</a>
      <a href="page2.html" class="btn">I forgive you, it happens. I love you baby <3</a>
    </div>
  </div>

  <script>
    // Get the current iteration count from sessionStorage
    let count = parseInt(sessionStorage.getItem('page1ButtonClicks')) || 0;

    // Get references to the elements we need to modify
    const button = document.getElementById('cycleToPage1');
    const gif = document.getElementById('mainGif');
    const text = document.getElementById('gifText');
    const title = document.getElementById('pageTitle');

    // Define the GIFs for different iterations
    const gifs = [
      'angry_gif_index.gif',           // GIF for iteration 1
      'angry_gif_index_2.gif',    // GIF for iteration 2
      'angry_gif_index_3.gif',     // GIF for iteration 3
      'angry_gif_index_4.gif',      // GIF for iteration 4
      'final_gif_index_5.gif',          // GIF for iteration 5
    ];

    const textChanges = 'Are you sure :(( PLEASE FORGIVE ME BABY I DIDNT MEAN IT AT ALL'

    // Check if it's the 4th iteration and modify page content
    if (count > 0) {
      gif.src = gifs[count];  // Change to the "alternate" GIF
    
      if (count === 4){
        text.style.fontSize = '1.8rem'; // Make text larger
        title.style.fontSize = '2.5rem'; // Increase title font size
        title.textContent = textChanges; // Add in special text for the 5th iteration
      }

    }

    // Event listener for the button click
    button.addEventListener('click', function(e) {
      e.preventDefault(); // Prevent the default anchor link behavior
      count++;

      // Store the new count in sessionStorage
      sessionStorage.setItem('page1ButtonClicks', count);

      // Change the GIF for each iteration
      if (count < 5) {
        gif.src = gifs[count]; // Update GIF for each iteration
        window.location.href = 'index.html';  // Cycle back to the same page
        if (count === 4){
            title.textContent = textChanges; // Add in special text for the 5th iteration
        }
      } else if (count === 5) {
        // Reset after 5 iterations and go to page1.html
        sessionStorage.removeItem('page1ButtonClicks'); // Reset the cycle
        window.location.href = 'page1.html'; // Go to page1.html after 5th iteration
      }
    });
  </script>
</body>
</html>


